<!DOCTYPE html>
<html lang="th">
<head>
<base target="_top">
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>‡∏ö‡πâ‡∏≤‡∏ô‡∏û‡∏±‡∏Å‡∏Ñ‡∏£‡∏π/ ‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà üßÅ‚òïÔ∏è</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
<style>
  @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;500;700&display=swap');
/* ======= Font & Body ====== */
body {
font-family: 'Sarabun', sans-serif;
background: linear-gradient(to bottom, #fff8f0, #ffeedd);
color: #4e342e;
padding: 20px;
position: relative;
transition: background 0.3s ease, color 0.3s ease;
}

body::before {
content: '';
position: fixed;
top: 0; left: 0;
width: 100%; height: 100%;
background-image: url('...'); /* ‡πÉ‡∏™‡πà‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏†‡∏≤‡∏û‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏ö‡∏ö‡∏•‡∏≤‡∏¢‡∏ã‡πâ‡∏≥ */
background-size: contain;
background-repeat: repeat;
opacity: 0.07;
z-index: 0;
pointer-events: none;
}

/* Container & Card */
.container-fluid, .card {
position: relative;
z-index: 1;
}

.card {
border: none;
box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
border-radius: 1rem;
background: rgba(255, 255, 255, 0.9);
backdrop-filter: blur(5px);
transition: background 0.3s ease, color 0.3s ease;
}

/* Header */
.card-header {
background: linear-gradient(90deg, #d7ccc8, #f5f5f5);
color: #3e2723;
font-weight: 600;
font-size: 1.2rem;
letter-spacing: 0.5px;
border-top-left-radius: 1rem !important;
border-top-right-radius: 1rem !important;
transition: background 0.3s ease, color 0.3s ease;
}

/* Custom header for Order Type/Table Selection */
.order-type-header {
   background: linear-gradient(90deg, #a7ffeb, #64ffda) !important; /* ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏°‡∏¥‡πâ‡∏ô‡∏ï‡πå */
   color: #004d40 !important;
   font-weight: 700;
   font-size: 1.3rem;
   text-align: center;
   border-top-left-radius: 1rem !important;
   border-top-right-radius: 1rem !important;
}

/* Headings */
h2 {
font-weight: 700;
color: #8d6e63;
text-shadow: 1px 1px 0 #ffffffcc;
}

/* Buttons */
.btn {
border-radius: 999px;
font-weight: 500;
transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

.btn-outline-primary.active,
.btn-outline-primary:hover {
background-color: #ffccbc;
color: #4e342e;
border-color: #ffab91;
}

/* Category Buttons */
.category-btn, .sub-category-btn {
font-size: 0.85rem;
padding: 5px 12px;
margin: 2px;
}
.sub-category-btn {
   margin-left: 20px; /* Indent sub-category buttons */
   border-color: #d7ccc8; /* Lighter border for sub-buttons */
}
.sub-category-btn.active {
   background-color: #ffe0b2 !important; /* Lighter orange for active sub-button */
   border-color: #ffcc80 !important;
   color: #4e342e !important;
}

/* Menu Items */
.menu-item {
background: #fff;
border: 1px solid #f0e0d6;
margin-bottom: 5px;
border-radius: 0.75rem;
padding: 10px 15px;
box-shadow: 0 1px 2px rgba(0,0,0,0.05);
cursor: pointer;
transition: all 0.2s ease;
}

.menu-item:hover {
background: #fff3e0;
transform: scale(1.02);
}

/* Table */
.table thead {
background: #bcaaa4;
color: white;
transition: background 0.3s ease, color 0.3s ease;
}

.table td, .table th {
vertical-align: middle;
}

/* Custom styling for quantity input group */
.qty-input-group {
   max-width: 120px; /* Limit width of quantity controls */
   margin: auto; /* Center the control in its cell */
}
.qty-input-group .form-control {
   text-align: center;
   border-left: none;
   border-right: none;
   background-color: #fff; /* Ensure white background in light mode */
}
.dark-mode .qty-input-group .form-control {
   background-color: rgba(25, 40, 65, 0.8); /* Match dark mode menu item background */
   color: #E0E7EB;
   border-color: #3A4762;
}
.qty-input-group .btn-outline-secondary {
   border-color: #ccc; /* Default border color for quantity buttons */
}
.dark-mode .qty-input-group .btn-outline-secondary {
   border-color: #3A4762; /* Dark mode border for quantity buttons */
   color: #E0E7EB;
   background-color: rgba(25, 40, 65, 0.8);
}
.dark-mode .qty-input-group .btn-outline-secondary:hover {
   background-color: rgba(60, 80, 110, 0.4);
}

/* Alerts */
.alert {
border-radius: 0.75rem;
}

#statusMsg.alert-success {
background: #dcedc8;
color: #33691e;
}

#statusMsg.alert-danger {
background: #ffcdd2;
color: #b71c1c;
}

#statusMsg.alert-info {
background: #b2ebf2;
color: #006064;
}

/* Theme toggle button */
#themeToggle {
position: fixed;
bottom: 20px;
right: 20px;
z-index: 999;
}

/* Language Toggle */
.language-toggle-buttons {
   position: fixed; /* ‡πÉ‡∏ä‡πâ fixed ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ */
   top: 20px;
   right: 20px;
   z-index: 999;
}
.language-toggle-buttons .btn {
   min-width: 45px; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏π‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ */
   font-weight: 600;
   font-size: 1.2rem; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÉ‡∏´‡πâ‡∏≠‡∏¥‡πÇ‡∏°‡∏à‡∏¥‡∏ò‡∏á‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô */
   padding: 5px 8px; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏õ‡∏∏‡πà‡∏° */
}

/* ======= Dark Mode ======= */
body.dark-mode {
   background-color: #0A192F; /* ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏° (Deep Blue) */
   background-image:
       url('https://upload.wikimedia.org/wikipedia/e/e1/Full_Moon_Luc_Viatour.jpg'), /* ‡∏û‡∏£‡∏∞‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡πÄ‡∏ï‡πá‡∏°‡∏î‡∏ß‡∏á */
       url('https://www.transparenttextures.com/patterns/stardust.png'); /* ‡∏î‡∏≤‡∏ß‡πÄ‡∏•‡πá‡∏Å ‡πÜ ‡πÅ‡∏ö‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á */
   background-repeat: no-repeat, repeat;
   background-position: center top, center center;
   background-size: 250px 250px, auto;
   color: #E0E7EB; /* ‡∏™‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡πà‡∏≠‡∏ô (Light Grayish Blue) */
   position: relative;
   overflow-x: hidden;
   min-height: 100vh;
}

body.dark-mode .card {
   background: rgba(18, 30, 52, 0.9); /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ */
   backdrop-filter: blur(8px);
   color: #E0E7EB;
   box-shadow: 0 0 15px rgba(100, 150, 200, 0.3); /* ‡πÄ‡∏á‡∏≤‡∏≠‡∏≠‡∏Å‡∏ü‡πâ‡∏≤‡πÜ */
}

body.dark-mode .card-header {
   background: rgba(28, 42, 70, 0.9) !important; /* Header ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏µ‡∏Å */
   color: #E0E7EB;
   text-shadow: 0 0 5px rgba(150, 200, 255, 0.5); /* ‡πÄ‡∏á‡∏≤‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô */
}

body.dark-mode .order-type-header {
   background: linear-gradient(90deg, #3A4762, #4D5E80) !important; /* ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏°‡πÄ‡∏ó‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Header ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå */
   color: #E0E7EB !important;
   text-shadow: 0 0 5px rgba(150, 200, 255, 0.5);
}

body.dark-mode .btn-outline-primary.active,
body.dark-mode .btn-outline-primary:hover {
   background: #6A8EAE; /* ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏°‡πÄ‡∏ó‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠ active/hover */
   color: #0A192F; /* ‡∏™‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏° */
   border-color: #6A8EAE;
}

body.dark-mode .sub-category-btn.active {
   background-color: #3B597B !important; /* ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö sub-active */
   border-color: #5C7A9D !important;
   color: #E0E7EB !important;
}

body.dark-mode .menu-item {
background: rgba(25, 40, 65, 0.8); /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏°‡∏ô‡∏π‡πÑ‡∏≠‡πÄ‡∏ó‡πá‡∏° */
border-color: #3A4762;
box-shadow: 0 0 5px rgba(100, 150, 200, 0.2);
color: #E0E7EB;
}

body.dark-mode .menu-item:hover {
   background: rgba(60, 80, 110, 0.4); /* ‡∏™‡∏µ‡∏≠‡πà‡∏≠‡∏ô‡∏•‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠ hover */
   color: #E0E7EB;
   transform: scale(1.03);
   box-shadow: 0 0 10px rgba(100, 150, 200, 0.4);
}

body.dark-mode .table thead {
   background: #3A4762; /* Header ‡∏ï‡∏≤‡∏£‡∏≤‡∏á */
   color: #E0E7EB;
}

/* Responsive */
@media (max-width: 768px) {
.btn {
  font-size: 0.9rem;
  padding: 8px 12px;
}
h2 {
  font-size: 1.5rem;
}
#themeToggle {
  right: 10px;
  bottom: 10px;
}
.language-toggle-buttons {
   top: 10px;
   right: 10px;
}
}
</style>
</head>
<body>
<button id="themeToggle" class="btn btn-light">
  <i class="bi bi-moon-stars-fill"></i>
</button>

<div class="language-toggle-buttons">
   <button class="btn btn-outline-secondary btn-sm" onclick="switchLanguage('th')">üáπüá≠</button>
   <button class="btn btn-outline-secondary btn-sm" onclick="switchLanguage('en')">üá¨üáß</button>
</div>

<div class="container-fluid">
  <div class="row mb-4"><div class="col-12">
    <h2 class="text-center" id="appTitle">‡∏ö‡πâ‡∏≤‡∏ô‡∏û‡∏±‡∏Å‡∏Ñ‡∏£‡∏π /‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà üßÅ‚òïÔ∏è</h2>
    <div class="text-center text-muted" id="current-time"></div>
  </div></div>

  <div class="row">
    <div class="col-md-5">
      <div class="card mb-3"><div class="card-header bg-primary text-white"><h4 class="mb-0" id="menuHeader">‡πÄ‡∏°‡∏ô‡∏π</h4></div>
        <div class="card-body">
          <div id="categoryFilter">
            <button class="btn btn-sm btn-outline-primary category-btn active" data-category="all"></button>
            <button class="btn btn-sm btn-outline-primary category-btn" data-category="drink"></button>
            <div id="subCategoryDrink" class="d-none">
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="coffee"></button>
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="tea"></button>
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="juice"></button>
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="otherDrink"></button>
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="alcohol"></button>
            </div>
            <button class="btn btn-sm btn-outline-primary category-btn" data-category="food"></button>
            <button class="btn btn-sm btn-outline-primary category-btn" data-category="dessert"></button>
            <div id="subCategoryDessert" class="d-none">
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="cakesBakeries"></button>
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="otherDessert"></button>
            </div>
            <button class="btn btn-sm btn-outline-primary category-btn" data-category="mainDish"></button>
            <div id="subCategoryMainDish" class="d-none">
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="pizza"></button>
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="spaghetti"></button>
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="steak"></button>
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="thaiFood"></button>
            </div>
          </div>
          <div id="menuList" class="list-group"></div>
        </div>
      </div>
    </div>

    <div class="col-md-7">
      <div class="card mb-3">
        <div class="card-header bg-success text-white"><h4 class="mb-0" id="orderListHeader">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h4></div>
        <div class="card-body">
          <div class="table-responsive"><table class="table table-bordered table-striped" id="orderTable">
            <thead class="table-dark">
             <tr>
               <th id="colMenuName">‡πÄ‡∏°‡∏ô‡∏π</th>
               <th id="colPrice">‡∏£‡∏≤‡∏Ñ‡∏≤</th>
               <th id="colQty">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
               <th id="colTotal">‡∏£‡∏ß‡∏°</th>
               <th id="colManage">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
             </tr>
            </thead>
            <tbody></tbody>
            <tfoot><tr><th colspan="3" class="text-end" id="totalAmountLabel">‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</th><th id="totalAmount">0</th><th></th></tr></tfoot>
          </table></div>
        </div>
      </div>

      <div class="card">
        <div class="card-header order-type-header d-flex align-items-center justify-content-center">
          <h4 class="mb-0" id="orderTypeHeader">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</h4>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <label class="form-label" id="orderTypeLabel"><strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</strong></label>
            <div class="form-check d-flex align-items-center mb-2">
              <input class="form-check-input me-2" type="radio" name="orderType" id="eatHere" value="‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô" checked>
              <label class="form-check-label fs-5" for="eatHere" id="eatHereLabel">
                ‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô <span class="fs-4">üçΩÔ∏è</span>
              </label>
            </div>
            <div class="form-check d-flex align-items-center">
              <input class="form-check-input me-2" type="radio" name="orderType" id="takeHome" value="‡∏ã‡∏∑‡πâ‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô">
              <label class="form-check-label fs-5" for="takeHome" id="takeHomeLabel">
                ‡∏ã‡∏∑‡πâ‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô <span class="fs-4">üõçÔ∏è</span>
              </label>
            </div>
            <div id="tableSelectContainer" class="mt-3">
              <label for="tableNumber" class="form-label d-flex align-items-center fs-5" id="tableSelectLabel">
                ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏ï‡πä‡∏∞ <span class="fs-4 ms-2">ü™ë</span>
              </label>
              <select class="form-select form-select-lg" id="tableNumber">
                <option value="‡πÇ‡∏ï‡πä‡∏∞ 1">‡πÇ‡∏ï‡πä‡∏∞ 1</option>
                <option value="‡πÇ‡∏ï‡πä‡∏∞ 2">‡πÇ‡∏ï‡πä‡∏∞ 2</option>
                <option value="‡πÇ‡∏ï‡πä‡∏∞ 3">‡πÇ‡∏ï‡πä‡∏∞ 3</option>
                <option value="‡πÇ‡∏ï‡πä‡∏∞ 4">‡πÇ‡∏ï‡πä‡∏∞ 4</option>
              </select>
            </div>
          </div>
          <div class="mt-3 d-flex justify-content-between">
            <button class="btn btn-danger" id="clearOrderBtn"><i class="bi bi-trash"></i> ‡∏•‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
            <button class="btn btn-primary" id="sendOrderBtn"><i class="bi bi-send-check"></i> ‡∏™‡πà‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</button>
          </div>
          <div id="statusMsg" class="mt-3 alert" style="display:none;"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="receiptModal" tabindex="-1"><div class="modal-dialog modal-lg"><div class="modal-content">
  <div class="modal-header"><h5 class="modal-title" id="receiptModalTitle">‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
  <div class="modal-body" id="receiptContent">
    <h6 class="text-center" id="cafeNameReceipt">‡∏ö‡πâ‡∏≤‡∏ô‡∏û‡∏±‡∏Å‡∏Ñ‡∏£‡∏π ‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà üè†</h6>
    <div id="receiptDetails"></div>
    <div id="receiptTable"></div>
    <div class="text-center mt-3"><img id="qrImage" src="" width="150"/></div>
  </div>
  <div class="modal-footer">
    <button onclick="printReceipt()" class="btn btn-outline-secondary" id="printReceiptBtn"><i class="bi bi-printer"></i> ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à</button>
    <button class="btn btn-secondary" data-bs-dismiss="modal" id="closeModalBtn">‡∏õ‡∏¥‡∏î</button>
  </div>
</div></div></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="client.js"></script>
</body>
</html>
