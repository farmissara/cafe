<!DOCTYPE html>
<html lang="th">
<head>
<base target="_top">
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>‡∏ö‡πâ‡∏≤‡∏ô‡∏û‡∏±‡∏Å‡∏Ñ‡∏£‡∏π | ‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà üßÅ‚òïÔ∏è (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö GitHub Pages)</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
<style>
  @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;500;700&display=swap');
/* ======= Font & Body ====== */
body {
font-family: 'Sarabun', sans-serif;
background: linear-gradient(to bottom, #fff8f0, #ffeedd);
color: #4e342e;
padding: 20px;
position: relative;
transition: background 0.3s ease, color 0.3s ease;
}




body::before {
content: '';
position: fixed;
top: 0; left: 0;
width: 100%; height: 100%;
background-image: url('...'); /* ‡πÉ‡∏™‡πà‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏†‡∏≤‡∏û‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏ö‡∏ö‡∏•‡∏≤‡∏¢‡∏ã‡πâ‡∏≥ */
background-size: contain;
background-repeat: repeat;
opacity: 0.07;
z-index: 0;
pointer-events: none;
}




/* Container & Card */
.container-fluid, .card {
position: relative;
z-index: 1;
}




.card {
border: none;
box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
border-radius: 1rem;
background: rgba(255, 255, 255, 0.9);
backdrop-filter: blur(5px);
transition: background 0.3s ease, color 0.3s ease;
}




/* Header */
.card-header {
background: linear-gradient(90deg, #d7ccc8, #f5f5f5);
color: #3e2723;
font-weight: 600;
font-size: 1.2rem;
letter-spacing: 0.5px;
border-top-left-radius: 1rem !important;
border-top-right-radius: 1rem !important;
transition: background 0.3s ease, color 0.3s ease;
}


/* Custom header for Order Type/Table Selection */
.order-type-header {
   background: linear-gradient(90deg, #a7ffeb, #64ffda) !important; /* ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏°‡∏¥‡πâ‡∏ô‡∏ï‡πå */
   color: #004d40 !important;
   font-weight: 700;
   font-size: 1.3rem;
   text-align: center;
   border-top-left-radius: 1rem !important;
   border-top-right-radius: 1rem !important;
}




/* Headings */
h2 {
font-weight: 700;
color: #8d6e63;
text-shadow: 1px 1px 0 #ffffffcc;
}




/* Buttons */
.btn {
border-radius: 999px;
font-weight: 500;
transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}




.btn-outline-primary.active,
.btn-outline-primary:hover {
background-color: #ffccbc;
color: #4e342e;
border-color: #ffab91;
}




/* Category Buttons */
.category-btn, .sub-category-btn {
font-size: 0.85rem;
padding: 5px 12px;
margin: 2px;
}
.sub-category-btn {
   margin-left: 20px; /* Indent sub-category buttons */
   border-color: #d7ccc8; /* Lighter border for sub-buttons */
}
.sub-category-btn.active {
   background-color: #ffe0b2 !important; /* Lighter orange for active sub-button */
   border-color: #ffcc80 !important;
   color: #4e342e !important;
}




/* Menu Items */
.menu-item {
background: #fff;
border: 1px solid #f0e0d6;
margin-bottom: 5px;
border-radius: 0.75rem;
padding: 10px 15px;
box-shadow: 0 1px 2px rgba(0,0,0,0.05);
cursor: pointer;
transition: all 0.2s ease;
}




.menu-item:hover {
background: #fff3e0;
transform: scale(1.02);
}




/* Table */
.table thead {
background: #bcaaa4;
color: white;
transition: background 0.3s ease, color 0.3s ease;
}




.table td, .table th {
vertical-align: middle;
}


/* Custom styling for quantity input group */
.qty-input-group {
   max-width: 120px; /* Limit width of quantity controls */
   margin: auto; /* Center the control in its cell */
}
.qty-input-group .form-control {
   text-align: center;
   border-left: none;
   border-right: none;
   background-color: #fff; /* Ensure white background in light mode */
}
.dark-mode .qty-input-group .form-control {
   background-color: rgba(25, 40, 65, 0.8); /* Match dark mode menu item background */
   color: #E0E7EB;
   border-color: #3A4762;
}
.qty-input-group .btn-outline-secondary {
   border-color: #ccc; /* Default border color for quantity buttons */
}
.dark-mode .qty-input-group .btn-outline-secondary {
   border-color: #3A4762; /* Dark mode border for quantity buttons */
   color: #E0E7EB;
   background-color: rgba(25, 40, 65, 0.8);
}
.dark-mode .qty-input-group .btn-outline-secondary:hover {
   background-color: rgba(60, 80, 110, 0.4);
}




/* Alerts */
.alert {
border-radius: 0.75rem;
}




#statusMsg.alert-success {
background: #dcedc8;
color: #33691e;
}




#statusMsg.alert-danger {
background: #ffcdd2;
color: #b71c1c;
}


#statusMsg.alert-info {
background: #b2ebf2;
color: #006064;
}




/* Theme toggle button */
#themeToggle {
position: fixed;
bottom: 20px;
right: 20px;
z-index: 999;
}




/* Language Toggle */
.language-toggle-buttons {
   position: fixed; /* ‡πÉ‡∏ä‡πâ fixed ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ */
   top: 20px;
   right: 20px;
   z-index: 999;
}
.language-toggle-buttons .btn {
   min-width: 45px; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏π‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ */
   font-weight: 600;
   font-size: 1.2rem; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÉ‡∏´‡πâ‡∏≠‡∏¥‡πÇ‡∏°‡∏à‡∏¥‡∏ò‡∏á‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô */
   padding: 5px 8px; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏õ‡∏∏‡πà‡∏° */
}




/* ======= Dark Mode ======= */
body.dark-mode {
   background-color: #0A192F; /* ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏° (Deep Blue) */
   background-image:
       url('https://upload.wikimedia.org/wikipedia/e/e1/Full_Moon_Luc_Viatour.jpg'), /* ‡∏û‡∏£‡∏∞‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡πÄ‡∏ï‡πá‡∏°‡∏î‡∏ß‡∏á */
       url('https://www.transparenttextures.com/patterns/stardust.png'); /* ‡∏î‡∏≤‡∏ß‡πÄ‡∏•‡πá‡∏Å ‡πÜ ‡πÅ‡∏ö‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á */
   background-repeat: no-repeat, repeat;
   background-position: center top, center center;
   background-size: 250px 250px, auto;
   color: #E0E7EB; /* ‡∏™‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡πà‡∏≠‡∏ô (Light Grayish Blue) */
   position: relative;
   overflow-x: hidden;
   min-height: 100vh;
}


body.dark-mode .card {
   background: rgba(18, 30, 52, 0.9); /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ */
   backdrop-filter: blur(8px);
   color: #E0E7EB;
   box-shadow: 0 0 15px rgba(100, 150, 200, 0.3); /* ‡πÄ‡∏á‡∏≤‡∏≠‡∏≠‡∏Å‡∏ü‡πâ‡∏≤‡πÜ */
}


body.dark-mode .card-header {
   background: rgba(28, 42, 70, 0.9) !important; /* Header ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏µ‡∏Å */
   color: #E0E7EB;
   text-shadow: 0 0 5px rgba(150, 200, 255, 0.5); /* ‡πÄ‡∏á‡∏≤‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô */
}


body.dark-mode .order-type-header {
   background: linear-gradient(90deg, #3A4762, #4D5E80) !important; /* ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏°‡πÄ‡∏ó‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Header ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå */
   color: #E0E7EB !important;
   text-shadow: 0 0 5px rgba(150, 200, 255, 0.5);
}


body.dark-mode .btn-outline-primary.active,
body.dark-mode .btn-outline-primary:hover {
   background: #6A8EAE; /* ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏°‡πÄ‡∏ó‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠ active/hover */
   color: #0A192F; /* ‡∏™‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏° */
   border-color: #6A8EAE;
}


body.dark-mode .sub-category-btn.active {
   background-color: #3B597B !important; /* ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö sub-active */
   border-color: #5C7A9D !important;
   color: #E0E7EB !important;
}




body.dark-mode .menu-item {
background: rgba(25, 40, 65, 0.8); /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏°‡∏ô‡∏π‡πÑ‡∏≠‡πÄ‡∏ó‡πá‡∏° */
border-color: #3A4762;
box-shadow: 0 0 5px rgba(100, 150, 200, 0.2);
color: #E0E7EB;
}




body.dark-mode .menu-item:hover {
   background: rgba(60, 80, 110, 0.4); /* ‡∏™‡∏µ‡∏≠‡πà‡∏≠‡∏ô‡∏•‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠ hover */
   color: #E0E7EB;
   transform: scale(1.03);
   box-shadow: 0 0 10px rgba(100, 150, 200, 0.4);
}




body.dark-mode .table thead {
   background: #3A4762; /* Header ‡∏ï‡∏≤‡∏£‡∏≤‡∏á */
   color: #E0E7EB;
}




/* Responsive */
@media (max-width: 768px) {
.btn {
  font-size: 0.9rem;
  padding: 8px 12px;
}
h2 {
  font-size: 1.5rem;
}
#themeToggle {
  right: 10px;
  bottom: 10px;
}
.language-toggle-buttons {
   top: 10px;
   right: 10px;
}
}


</style>
</head>
<body>
<button id="themeToggle" class="btn btn-light">
  <i class="bi bi-moon-stars-fill"></i>
</button>


<div class="language-toggle-buttons">
   <button class="btn btn-outline-secondary btn-sm" onclick="switchLanguage('th')">üáπüá≠</button>
   <button class="btn btn-outline-secondary btn-sm" onclick="switchLanguage('en')">üá¨üáß</button>
</div>




<div class="container-fluid">
  <div class="row mb-4"><div class="col-12">
    <h2 class="text-center" id="appTitle">‡∏ö‡πâ‡∏≤‡∏ô‡∏û‡∏±‡∏Å‡∏Ñ‡∏£‡∏π | ‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà üßÅ‚òïÔ∏è</h2>
    <div class="text-center text-muted" id="current-time"></div>
  </div></div>




  <div class="row">
    <div class="col-md-5">
      <div class="card mb-3"><div class="card-header bg-primary text-white"><h4 class="mb-0" id="menuHeader">‡πÄ‡∏°‡∏ô‡∏π</h4></div>
        <div class="card-body">
          <div id="categoryFilter">
            <button class="btn btn-sm btn-outline-primary category-btn active" data-category="all"></button>
            <button class="btn btn-sm btn-outline-primary category-btn" data-category="drink"></button>
            <div id="subCategoryDrink" class="d-none">
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="coffee"></button>
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="tea"></button>
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="juice"></button>
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="otherDrink"></button>
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="alcohol"></button>
            </div>
            <button class="btn btn-sm btn-outline-primary category-btn" data-category="food"></button>
            <button class="btn btn-sm btn-outline-primary category-btn" data-category="dessert"></button>
            <div id="subCategoryDessert" class="d-none">
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="cakesBakeries"></button>
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="otherDessert"></button>
            </div>
            <button class="btn btn-sm btn-outline-primary category-btn" data-category="mainDish"></button>
            <div id="subCategoryMainDish" class="d-none">
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="pizza"></button>
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="spaghetti"></button>
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="steak"></button>
               <button class="btn btn-sm btn-outline-secondary sub-category-btn" data-category="thaiFood"></button>
            </div>
          </div>
          <div id="menuList" class="list-group"></div>
        </div>
      </div>
    </div>




    <div class="col-md-7">
      <div class="card mb-3">
        <div class="card-header bg-success text-white"><h4 class="mb-0" id="orderListHeader">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h4></div>
        <div class="card-body">
          <div class="table-responsive"><table class="table table-bordered table-striped" id="orderTable">
            <thead class="table-dark">
             <tr>
               <th id="colMenuName">‡πÄ‡∏°‡∏ô‡∏π</th>
               <th id="colPrice">‡∏£‡∏≤‡∏Ñ‡∏≤</th>
               <th id="colQty">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
               <th id="colTotal">‡∏£‡∏ß‡∏°</th>
               <th id="colManage">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
             </tr>
            </thead>
            <tbody></tbody>
            <tfoot><tr><th colspan="3" class="text-end" id="totalAmountLabel">‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</th><th id="totalAmount">0</th><th></th></tr></tfoot>
          </table></div>
        </div>
      </div>


      <div class="card">
        <div class="card-header order-type-header d-flex align-items-center justify-content-center">
          <h4 class="mb-0" id="orderTypeHeader">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</h4>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <label class="form-label" id="orderTypeLabel"><strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</strong></label>
            <div class="form-check d-flex align-items-center mb-2">
              <input class="form-check-input me-2" type="radio" name="orderType" id="eatHere" value="‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô" checked>
              <label class="form-check-label fs-5" for="eatHere" id="eatHereLabel">
                ‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô <span class="fs-4">üçΩÔ∏è</span>
              </label>
            </div>
            <div class="form-check d-flex align-items-center">
              <input class="form-check-input me-2" type="radio" name="orderType" id="takeHome" value="‡∏ã‡∏∑‡πâ‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô">
              <label class="form-check-label fs-5" for="takeHome" id="takeHomeLabel">
                ‡∏ã‡∏∑‡πâ‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô <span class="fs-4">üõçÔ∏è</span>
              </label>
            </div>
            <div id="tableSelectContainer" class="mt-3">
              <label for="tableNumber" class="form-label d-flex align-items-center fs-5" id="tableSelectLabel">
                ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏ï‡πä‡∏∞ <span class="fs-4 ms-2">ü™ë</span>
              </label>
              <select class="form-select form-select-lg" id="tableNumber">
                <option value="‡πÇ‡∏ï‡πä‡∏∞ 1">‡πÇ‡∏ï‡πä‡∏∞ 1</option>
                <option value="‡πÇ‡∏ï‡πä‡∏∞ 2">‡πÇ‡∏ï‡πä‡∏∞ 2</option>
                <option value="‡πÇ‡∏ï‡πä‡∏∞ 3">‡πÇ‡∏ï‡πä‡∏∞ 3</option>
                <option value="‡πÇ‡∏ï‡πä‡∏∞ 4">‡πÇ‡∏ï‡πä‡∏∞ 4</option>
              </select>
            </div>
          </div>
          <div class="mt-3 d-flex justify-content-between">
            <button class="btn btn-danger" id="clearOrderBtn"><i class="bi bi-trash"></i> ‡∏•‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
            <button class="btn btn-primary" id="sendOrderBtn"><i class="bi bi-send-check"></i> ‡∏™‡πà‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</button>
          </div>
          <div id="statusMsg" class="mt-3 alert" style="display:none;"></div>
        </div>
      </div>
    </div>
  </div>
</div>




<div class="modal fade" id="receiptModal" tabindex="-1"><div class="modal-dialog modal-lg"><div class="modal-content">
  <div class="modal-header"><h5 class="modal-title" id="receiptModalTitle">‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
  <div class="modal-body" id="receiptContent">
    <h6 class="text-center" id="cafeNameReceipt">‡∏ö‡πâ‡∏≤‡∏ô‡∏û‡∏±‡∏Å‡∏Ñ‡∏£‡∏π | ‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà üè†</h6>
    <div id="receiptDetails"></div>
    <div id="receiptTable"></div>
    <div class="text-center mt-3"><img id="qrImage" src="" width="150"/></div>
  </div>
  <div class="modal-footer">
    <button onclick="printReceipt()" class="btn btn-outline-secondary" id="printReceiptBtn"><i class="bi bi-printer"></i> ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à</button>
    <button class="btn btn-secondary" data-bs-dismiss="modal" id="closeModalBtn">‡∏õ‡∏¥‡∏î</button>
  </div>


</div></div></div>




<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  let currentLang = 'th'; // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏†‡∏≤‡∏©‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢
  let currentActiveCategory = 'all'; // ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà active (all, drink, food, dessert, mainDish)
  let currentActiveSubCategory = 'all'; // ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏¢‡πà‡∏≠‡∏¢‡∏ó‡∏µ‡πà active (‡∏´‡∏£‡∏∑‡∏≠ 'all' ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏¢‡πà‡∏≠‡∏¢)




  const translations = {
    "th": {
      "appTitle": "‡∏ö‡πâ‡∏≤‡∏ô‡∏û‡∏±‡∏Å‡∏Ñ‡∏£‡∏π | ‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà üßÅ‚òïÔ∏è",
      "menuHeader": "‡πÄ‡∏°‡∏ô‡∏π",
      "orderListHeader": "‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠",
      "allCategory": "‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚ú®", // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏µ‡πÇ‡∏°‡∏à‡∏¥
      "drinkCategory": "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏° ‚òïÔ∏è", // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏µ‡πÇ‡∏°‡∏à‡∏¥
      "foodCategory": "‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ü•™", // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏µ‡πÇ‡∏°‡∏à‡∏¥
      "dessertCategory": "‡∏Ç‡∏≠‡∏á‡∏´‡∏ß‡∏≤‡∏ô üç∞", // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏µ‡πÇ‡∏°‡∏à‡∏¥
      "mainDishCategory": "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å üçΩÔ∏è", // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏µ‡πÇ‡∏°‡∏à‡∏¥
      "coffeeSubCategory": "‡∏Å‡∏≤‡πÅ‡∏ü ‚òï",
      "teaSubCategory": "‡∏ä‡∏≤ üçµ",
      "juiceSubCategory": "‡∏ô‡πâ‡∏≥‡∏ú‡∏•‡πÑ‡∏°‡πâ ÔøΩ",
      "otherDrinkSubCategory": "‡∏≠‡∏∑‡πà‡∏ô‡πÜ üçπ",
      "alcoholSubCategory": "‡πÄ‡∏´‡∏•‡πâ‡∏≤-‡πÄ‡∏ö‡∏µ‡∏¢‡∏£‡πå üçª", // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏¢‡πà‡∏≠‡∏¢‡πÉ‡∏´‡∏°‡πà
      "pizzaSubCategory": "‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤ üçï",
      "spaghettiSubCategory": "‡∏™‡∏õ‡∏≤‡πÄ‡∏Å‡πá‡∏ï‡∏ï‡∏µ‡πâ üçù",
      "steakSubCategory": "‡∏™‡πÄ‡∏ï‡πá‡∏Å ü•©",
      "thaiFoodSubCategory": "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏ó‡∏¢ üçö",
      "cakesBakeriesSubCategory": "‡πÄ‡∏Ñ‡πâ‡∏Å & ‡πÄ‡∏ö‡πÄ‡∏Å‡∏≠‡∏£‡∏µ‡πà üßÅ",
      "otherDessertSubCategory": "‡∏≠‡∏∑‡πà‡∏ô‡πÜ üç¨",
      "menuNameCol": "‡πÄ‡∏°‡∏ô‡∏π",
      "priceCol": "‡∏£‡∏≤‡∏Ñ‡∏≤",
      "qtyCol": "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô",
      "totalCol": "‡∏£‡∏ß‡∏°",
      "manageCol": "‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£",
      "grandTotal": "‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",
      "orderTypeLabel": "‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå",
      "eatHere": "‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô",
      "takeHome": "‡∏ã‡∏∑‡πâ‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô",
      "tableSelectLabel": "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏ï‡πä‡∏∞",
      "clearOrderBtn": "‡∏•‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£",
      "sendOrderBtn": "‡∏™‡πà‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå",
      "modalReceiptTitle": "‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô",
      "cafeNameReceipt": "‡∏ö‡πâ‡∏≤‡∏ô‡∏û‡∏±‡∏Å‡∏Ñ‡∏£‡∏π | ‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà üè†",
      "receiptType": "‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó",
      "receiptTable": "‡πÇ‡∏ï‡πä‡∏∞",
      "printReceiptBtn": "‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à",
      "closeBtn": "‡∏õ‡∏¥‡∏î",
      "addToOrderSuccess": "‡πÄ‡∏û‡∏¥‡πà‡∏° {itemName} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢",
      "removeFromOrderSuccess": "‡∏•‡∏ö {itemName} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢",
      "noItemsSelected": "‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£",
      "sendingOrder": "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...",
      "orderSuccess": "‡∏™‡πà‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à üéâ",
      "orderFailed": "‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: {errorMessage}",
      "clearOrderConfirm": "‡∏•‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?",
      "orderCleared": "‡∏•‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢",
      "noMenuInCategory": "‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ô‡∏µ‡πâ",
      "‡∏ö‡∏≤‡∏ó": "‡∏ö‡∏≤‡∏ó",
      "table1": "‡πÇ‡∏ï‡πä‡∏∞ 1",
      "table2": "‡πÇ‡∏ï‡πä‡∏∞ 2",
      "table3": "‡πÇ‡∏ï‡πä‡∏∞ 3",
      "table4": "‡πÇ‡∏ï‡πä‡∏∞ 4"
    },
    "en": {
      "appTitle": "Teacher's Home / Cafe üßÅ‚òïÔ∏è",
      "menuHeader": "Menu",
      "orderListHeader": "Order List",
      "allCategory": "All ‚ú®",
      "drinkCategory": "Drinks ‚òïÔ∏è",
      "foodCategory": "Food ü•™",
      "dessertCategory": "Desserts üç∞",
      "mainDishCategory": "Main Dishes üçΩÔ∏è",
      "coffeeSubCategory": "Coffee ‚òï",
      "teaSubCategory": "Tea üçµ",
      "juiceSubCategory": "Juices ü•§",
      "otherDrinkSubCategory": "Others üçπ",
      "alcoholSubCategory": "Alcohol & Beer üçª", // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏¢‡πà‡∏≠‡∏¢‡πÉ‡∏´‡∏°‡πà
      "pizzaSubCategory": "Pizza üçï",
      "spaghettiSubCategory": "Spaghetti üçù",
      "steakSubCategory": "Steak ü•©",
      "thaiFoodSubCategory": "Thai Food üçö",
      "cakesBakeriesSubCategory": "Cakes & Bakeries üßÅ",
      "otherDessertSubCategory": "Others üç¨",
      "menuNameCol": "Menu",
      "priceCol": "Price",
      "qtyCol": "Quantity",
      "totalCol": "Total",
      "manageCol": "Manage",
      "grandTotal": "Grand Total",
      "orderTypeLabel": "Order Type",
      "eatHere": "Eat Here",
      "takeHome": "Take Home",
      "tableSelectLabel": "Select Table",
      "clearOrderBtn": "Clear Order",
      "sendOrderBtn": "Send Order",
      "modalReceiptTitle": "Receipt",
      "cafeNameReceipt": "Teacher's Home Cafe üè†",
      "receiptType": "Type",
      "receiptTable": "Table",
      "printReceiptBtn": "Print Receipt",
      "closeBtn": "Close",
      "addToOrderSuccess": "Added {itemName} to order",
      "removeFromOrderSuccess": "Removed {itemName} from order",
      "noItemsSelected": "Please select at least 1 item",
      "sendingOrder": "Sending order...",
      "orderSuccess": "Order sent successfully üéâ",
      "orderFailed": "Error: {errorMessage}",
      "clearOrderConfirm": "Clear all items?",
      "orderCleared": "Order cleared",
      "noMenuInCategory": "No menu in this category",
      "‡∏ö‡∏≤‡∏ó": "Baht",
      "table1": "Table 1",
      "table2": "Table 2",
      "table3": "Table 3",
      "table4": "Table 4"
    }
  };


  // Function to switch language
  function switchLanguage(lang) {
    currentLang = lang;
    updateUIForLanguage();
    renderMenu(); // Re-render menu to apply language change to menu items
    renderOrders(); // Re-render orders to apply language change to order list
    updateCurrentTime(); // Update time display for new language
  }


  // Function to update UI elements based on current language
  function updateUIForLanguage() {
    document.getElementById('appTitle').textContent = getTranslation('appTitle');
    document.getElementById('menuHeader').textContent = getTranslation('menuHeader');
    document.getElementById('orderListHeader').textContent = getTranslation('orderListHeader');


    // Update main category buttons
    document.querySelector('.category-btn[data-category="all"]').textContent = getTranslation('allCategory');
    document.querySelector('.category-btn[data-category="drink"]').textContent = getTranslation('drinkCategory');
    document.querySelector('.category-btn[data-category="food"]').textContent = getTranslation('foodCategory');
    document.querySelector('.category-btn[data-category="dessert"]').textContent = getTranslation('dessertCategory');
    document.querySelector('.category-btn[data-category="mainDish"]').textContent = getTranslation('mainDishCategory');


    // Update sub-category buttons
    document.querySelector('#subCategoryDrink .sub-category-btn[data-category="coffee"]').textContent = getTranslation('coffeeSubCategory');
    document.querySelector('#subCategoryDrink .sub-category-btn[data-category="tea"]').textContent = getTranslation('teaSubCategory');
    document.querySelector('#subCategoryDrink .sub-category-btn[data-category="juice"]').textContent = getTranslation('juiceSubCategory');
    document.querySelector('#subCategoryDrink .sub-category-btn[data-category="otherDrink"]').textContent = getTranslation('otherDrinkSubCategory');
    document.querySelector('#subCategoryDrink .sub-category-btn[data-category="alcohol"]').textContent = getTranslation('alcoholSubCategory'); // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà


    document.querySelector('#subCategoryDessert .sub-category-btn[data-category="cakesBakeries"]').textContent = getTranslation('cakesBakeriesSubCategory');
    document.querySelector('#subCategoryDessert .sub-category-btn[data-category="otherDessert"]').textContent = getTranslation('otherDessertSubCategory');


    document.querySelector('#subCategoryMainDish .sub-category-btn[data-category="pizza"]').textContent = getTranslation('pizzaSubCategory');
    document.querySelector('#subCategoryMainDish .sub-category-btn[data-category="spaghetti"]').textContent = getTranslation('spaghettiSubCategory');
    document.querySelector('#subCategoryMainDish .sub-category-btn[data-category="steak"]').textContent = getTranslation('steakSubCategory');
    document.querySelector('#subCategoryMainDish .sub-category-btn[data-category="thaiFood"]').textContent = getTranslation('thaiFoodSubCategory');


    document.getElementById('colMenuName').textContent = getTranslation('menuNameCol');
    document.getElementById('colPrice').textContent = getTranslation('priceCol');
    document.getElementById('colQty').textContent = getTranslation('qtyCol');
    document.getElementById('colTotal').textContent = getTranslation('totalCol');
    document.getElementById('colManage').textContent = getTranslation('manageCol');
    document.getElementById('totalAmountLabel').textContent = getTranslation('grandTotal');


    document.getElementById('orderTypeHeader').textContent = getTranslation('orderTypeLabel');
    document.getElementById('orderTypeLabel').textContent = getTranslation('orderTypeLabel');
    document.getElementById('eatHereLabel').innerHTML = `${getTranslation('eatHere')} <span class="fs-4">üçΩÔ∏è</span>`;
    document.getElementById('takeHomeLabel').innerHTML = `${getTranslation('takeHome')} <span class="fs-4">üõçÔ∏è</span>`;
    document.getElementById('tableSelectLabel').innerHTML = `${getTranslation('tableSelectLabel')} <span class="fs-4 ms-2">ü™ë</span>`;


    // Update table number options
    document.querySelector('#tableNumber option[value="‡πÇ‡∏ï‡πä‡∏∞ 1"]').textContent = getTranslation('table1');
    document.querySelector('#tableNumber option[value="‡πÇ‡∏ï‡πä‡∏∞ 2"]').textContent = getTranslation('table2');
    document.querySelector('#tableNumber option[value="‡πÇ‡∏ï‡πä‡∏∞ 3"]').textContent = getTranslation('table3');
    document.querySelector('#tableNumber option[value="‡πÇ‡∏ï‡πä‡∏∞ 4"]').textContent = getTranslation('table4');


    document.getElementById('clearOrderBtn').innerHTML = `<i class="bi bi-trash"></i> ${getTranslation('clearOrderBtn')}`;
    document.getElementById('sendOrderBtn').innerHTML = `<i class="bi bi-send-check"></i> ${getTranslation('sendOrderBtn')}`;


    document.getElementById('receiptModalTitle').textContent = getTranslation('modalReceiptTitle');
    document.getElementById('cafeNameReceipt').textContent = getTranslation('cafeNameReceipt');
    document.getElementById('printReceiptBtn').innerHTML = `<i class="bi bi-printer"></i> ${getTranslation('printReceiptBtn')}`;
    document.getElementById('closeModalBtn').textContent = getTranslation('closeBtn');
  }


  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤
  function getTranslation(key, placeholders = {}) {
    let text = translations[currentLang][key] || key; // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ key ‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á key ‡∏ô‡∏±‡πâ‡∏ô‡πÜ
    for (const p in placeholders) {
      text = text.replace(`{${p}}`, placeholders[p]);
    }
    return text;
  }




  const menuItems = [
    {id:999,name:"Pizza Maker WOI (‡πÄ‡∏Å‡∏°‡∏ó‡∏≥‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤)",price:0,category:"pizza",icon:"üéÆ", isGame: true, gameUrl: "https://th.crazygames.com/%E0%B9%80%E0%B8%81%E0%B8%A1/pizza-maker-woi"},
    // ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏° (Drinks)
    {id:1,name:"‡∏Å‡∏≤‡πÅ‡∏ü‡∏•‡∏≤‡πÄ‡∏ï‡πâ",price:40,category:"coffee",icon:"‚òïÔ∏è"},
    {id:42,name:"‡∏Ñ‡∏≤‡∏õ‡∏π‡∏ä‡∏¥‡πÇ‡∏ô‡πà‡∏Ñ‡∏•‡∏≤‡∏™‡∏™‡∏¥‡∏Å (Classic Cappuccino)",price:50,category:"coffee",icon:"‚òï"},
    {id:44,name:"‡πÄ‡∏≠‡∏™‡πÄ‡∏õ‡∏£‡∏™‡πÇ‡∏ã‡πà‡πÄ‡∏≠‡πá‡∏Å‡∏ã‡πå‡∏ï‡∏£‡πâ‡∏≤ (Espresso Extra)",price:40,category:"coffee",icon:"‚òï"},
    {id:46,name:"‡∏Å‡∏≤‡πÅ‡∏ü‡∏ô‡∏°‡∏™‡∏î (Fresh Milk Coffee)",price:45,category:"coffee",icon:"ü•õ"},
    {id:41,name:"‡∏°‡πá‡∏≠‡∏Ñ‡∏Ñ‡πà‡∏≤‡πÅ‡∏°‡πá‡∏Å‡∏ã‡πå (Mocha Max)",price:60,category:"coffee",icon:"‚òï"},
    {id:40,name:"‡∏•‡∏≤‡πÄ‡∏ï‡πâ‡∏•‡∏≤‡πÄ‡∏ß‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå (Lavender Latte)",price:55,category:"coffee",icon:"üíú"},


    {id:2,name:"‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß",price:35,category:"tea",icon:"üçµ"},
    {id:43,name:"‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏°‡∏±‡∏ó‡∏â‡∏∞ (Matcha Green Tea)",price:45,category:"tea",icon:"üçµ"},
    {id:45,name:"‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢‡πÄ‡∏¢‡πá‡∏ô (Thai Iced Tea)",price:40,category:"tea",icon:"üßã"},
    {id:7,name:"‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢",price:35,category:"tea",icon:"üßã"},
    {id:47,name:"‡∏Æ‡∏±‡∏ô‡∏ô‡∏µ‡πà‡πÄ‡∏•‡∏°‡∏≠‡∏ô‡∏ó‡∏µ (Honey Lemon Tea)",price:35,category:"tea",icon:"üçã"},
    {id:48,name:"‡∏ä‡∏≤‡∏≠‡∏π‡πà‡∏´‡∏•‡∏á‡∏£‡πâ‡∏≠‡∏ô (Hot Oolong Tea)",price:30,category:"tea",icon:"üçµ"},
   
    {id:4,name:"‡∏ô‡πâ‡∏≥‡∏™‡πâ‡∏°‡∏Ñ‡∏±‡πâ‡∏ô",price:30,category:"juice",icon:"ü•§"},
    {id:39,name:"‡πÇ‡∏Å‡πÇ‡∏Å‡πâ‡∏Ñ‡∏£‡∏µ‡∏°‡∏°‡∏µ‡πà (Cocoa Creamy)",price:45,category:"otherDrink",icon:"üç´"}, // ‡∏¢‡πâ‡∏≤‡∏¢‡πÇ‡∏Å‡πÇ‡∏Å‡πâ‡∏°‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏≠‡∏∑‡πà‡∏ô‡πÜ


    // **‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π ‡πÄ‡∏´‡∏•‡πâ‡∏≤-‡πÄ‡∏ö‡∏µ‡∏¢‡∏£‡πå**
    {id:78,name:"‡πÄ‡∏ö‡∏µ‡∏¢‡∏£‡πå‡∏ä‡πâ‡∏≤‡∏á",price:90,category:"alcohol",icon:"üç∫"},
    {id:79,name:"‡πÄ‡∏ö‡∏µ‡∏¢‡∏£‡πå‡∏•‡∏µ‡πÇ‡∏≠",price:90,category:"alcohol",icon:"üç∫"},
    {id:80,name:"‡πÄ‡∏ö‡∏µ‡∏¢‡∏£‡πå‡∏™‡∏¥‡∏á‡∏´‡πå",price:100,category:"alcohol",icon:"üç∫"},
    {id:81,name:"‡πÄ‡∏ö‡∏µ‡∏¢‡∏£‡πå‡πÑ‡∏Æ‡πÄ‡∏ô‡πÄ‡∏Å‡πâ‡∏ô",price:120,category:"alcohol",icon:"üç∫"},
    {id:82,name:"‡∏ß‡∏¥‡∏™‡∏Å‡∏µ‡πâ (‡πÅ‡∏Å‡πâ‡∏ß)",price:150,category:"alcohol",icon:"ü•É"},
    {id:83,name:"‡πÄ‡∏´‡∏•‡πâ‡∏≤‡∏Ç‡∏≤‡∏ß (‡∏ä‡πá‡∏≠‡∏ï)",price:60,category:"alcohol",icon:"üç∂"},
    {id:84,name:"‡∏Ñ‡πá‡∏≠‡∏Å‡πÄ‡∏ó‡∏• ‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß (Coconut Cocktail)",price:180,category:"alcohol",icon:"üçπ"},




    // ‡∏≠‡∏≤‡∏´‡∏≤‡∏£ (Food)
    {id:5,name:"‡πÅ‡∏ã‡∏ô‡∏ß‡∏¥‡∏ä",price:45,category:"singleDish",icon:"ü•™"},
    {id:8,name:"‡∏Ñ‡∏£‡∏±‡∏ß‡∏ã‡∏≠‡∏á‡∏ï‡πå",price:40,category:"singleDish",icon:"ü•ê"},


    // ‡∏Ç‡∏≠‡∏á‡∏´‡∏ß‡∏≤‡∏ô (Desserts)
    {id:3,name:"‡πÄ‡∏Ñ‡πâ‡∏Å‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï",price:55,category:"cakesBakeries",icon:"üßÅ"},
    {id:6,name:"‡∏ö‡∏£‡∏≤‡∏ß‡∏ô‡∏µ‡πà",price:50,category:"cakesBakeries",icon:"üç´"},
    {id:24,name:"‡∏ö‡πâ‡∏≤‡∏ô‡∏Ç‡∏ô‡∏°‡∏´‡∏ß‡∏≤‡∏ô Sweet Home Bakery",price:65,category:"cakesBakeries",icon:"üç∞"},
    {id:25,name:"‡∏Ç‡∏ô‡∏°‡∏≠‡∏ö‡∏£‡∏±‡∏Å Love Bake",price:70,category:"cakesBakeries",icon:"üíñ"},
    {id:26,name:"‡∏Ñ‡∏£‡∏±‡∏ß‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô Warm Oven",price:60,category:"cakesBakeries",icon:"üç™"},
    {id:27,name:"‡∏´‡∏≠‡∏°‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏Ç‡∏ô‡∏° Aroma Bakery",price:75,category:"cakesBakeries",icon:"üçû"},
    {id:28,name:"‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏≠‡∏ö‡∏≠‡∏ß‡∏• Cozy Crust",price:68,category:"cakesBakeries",icon:"ü•®"},
    {id:29,name:"‡∏Ç‡∏ô‡∏°‡∏ö‡πâ‡∏≤‡∏ô‡∏™‡∏ß‡∏ô Garden Sweets",price:55,category:"cakesBakeries",icon:"üå≥"},
    {id:30,name:"‡∏Ç‡∏ô‡∏°‡∏´‡∏ß‡∏≤‡∏ô‡πÉ‡∏à Sweetheart Treats",price:72,category:"cakesBakeries",icon:"üç¨"},
    {id:31,name:"‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå‡∏Ç‡∏ô‡∏° Heaven Bakery",price:80,category:"cakesBakeries",icon:"üòá"},
    {id:32,name:"‡πÄ‡∏ï‡∏≤‡∏≠‡∏ö‡∏™‡∏∏‡∏Ç‡πÉ‡∏à Happy Oven",price:62,category:"cakesBakeries",icon:"üòä"},
    {id:33,name:"‡∏Ç‡∏ô‡∏°‡∏°‡∏á‡∏Ñ‡∏• Lucky Bakes",price:78,category:"cakesBakeries",icon:"üßß"},
    {id:34,name:"‡∏Ç‡∏ô‡∏°‡∏≠‡∏ö‡∏™‡∏î Fresh Bake",price:58,category:"cakesBakeries",icon:"ü•ñ"},
    {id:35,name:"‡∏≠‡∏ö‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô Warm & Fresh",price:60,category:"cakesBakeries",icon:"ü•ê"},
    {id:36,name:"‡∏´‡∏≠‡∏°‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏Ç‡∏ô‡∏° Fragrant Sweets",price:65,category:"cakesBakeries",icon:"üç©"},
    {id:37,name:"‡∏£‡∏™‡∏´‡∏ß‡∏≤‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏£‡∏≤ Sweet Taste Home",price:55,category:"cakesBakeries",icon:"üè†"},
    {id:38,name:"‡∏Ç‡∏ô‡∏°‡∏ö‡πâ‡∏≤‡∏ô‡πÉ‡∏Å‡∏•‡πâ Nearby Bakery",price:50,category:"cakesBakeries",icon:"üè°"},


    // ‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤ (Pizza) - ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏≠‡∏¢‡∏π‡πà Main Dishes
    {id:9,name:"‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡∏°‡∏≤‡∏Å‡∏≤‡∏£‡∏¥‡∏ï‡πâ‡∏≤ (Margherita)",price:180,category:"pizza",icon:"üçï"},
    {id:10,name:"‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡πÄ‡∏õ‡∏õ‡πÄ‡∏õ‡∏≠‡πÇ‡∏£‡∏ô‡∏µ (Pepperoni)",price:220,category:"pizza",icon:"üçï"},
    {id:11,name:"‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡∏Æ‡∏≤‡∏ß‡∏≤‡∏¢‡πÄ‡∏≠‡∏µ‡πâ‡∏¢‡∏ô (Hawaiian)",price:200,category:"pizza",icon:"üçï"},
    {id:12,name:"‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡∏ã‡∏∏‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå‡∏î‡∏µ‡∏•‡∏±‡∏Å‡∏ã‡πå (Super Deluxe)",price:250,category:"pizza",icon:"üçï"},
    {id:13,name:"‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡∏û‡∏£‡∏¥‡∏Å‡∏´‡∏¢‡∏ß‡∏Å‡πÅ‡∏•‡∏∞‡πÄ‡∏´‡πá‡∏î (Bell Pepper & Mushroom)",price:190,category:"pizza",icon:"üçï"},
    {id:14,name:"‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡πÑ‡∏™‡πâ‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏¥‡∏ï‡∏≤‡πÄ‡∏•‡∏µ‡∏¢‡∏ô (Italian Sausage)",price:230,category:"pizza",icon:"üçï"},
    {id:15,name:"‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡πÅ‡∏ã‡∏•‡∏°‡∏≠‡∏ô‡∏£‡∏°‡∏Ñ‡∏ß‡∏±‡∏ô (Smoked Salmon)",price:280,category:"pizza",icon:"üçï"},
    {id:16,name:"‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡∏ä‡∏µ‡∏™‡∏£‡∏ß‡∏°‡∏°‡∏¥‡∏ï‡∏£ (Four Cheese)",price:210,category:"pizza",icon:"üçï"},
    {id:17,name:"‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡∏ö‡∏≤‡∏£‡πå‡∏ö‡∏µ‡∏Ñ‡∏¥‡∏ß‡πÑ‡∏Å‡πà (BBQ Chicken)",price:200,category:"pizza",icon:"üçï"},
    {id:18,name:"‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡∏ó‡∏∞‡πÄ‡∏•‡∏£‡∏ß‡∏° (Seafood)",price:270,category:"pizza",icon:"üçï"},
    {id:19,name:"‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡∏ú‡∏±‡∏Å‡πÇ‡∏Ç‡∏°‡πÅ‡∏•‡∏∞‡∏£‡∏¥‡∏Ñ‡∏≠‡∏ï‡∏ï‡πâ‡∏≤ (Spinach & Ricotta)",price:195,category:"pizza",icon:"üçï"},
    {id:20,name:"‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡πÄ‡∏ö‡∏Ñ‡∏≠‡∏ô‡∏Å‡∏±‡∏ö‡πÑ‡∏Ç‡πà (Bacon & Egg)",price:215,category:"pizza",icon:"üçï"},
    {id:21,name:"‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡∏õ‡∏≤‡∏õ‡∏£‡∏¥‡∏Å‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡πÑ‡∏Å‡πà (Paprika & Chicken)",price:205,category:"pizza",icon:"üçï"},
    {id:22,name:"‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡∏£‡∏™‡∏à‡∏±‡∏î (Spicy Hot)",price:190,category:"pizza",icon:"üçï"},
    {id:23,name:"‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡∏°‡∏∞‡∏Å‡∏≠‡∏Å‡∏î‡∏≥‡∏Å‡∏±‡∏ö‡πÅ‡∏Æ‡∏° (Black Olive & Ham)",price:200,category:"pizza",icon:"üçï"},


    // ‡∏™‡∏õ‡∏≤‡πÄ‡∏Å‡πá‡∏ï‡∏ï‡∏µ‡πâ (Spaghetti) - ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏≠‡∏¢‡∏π‡πà Main Dishes
    {id:59,name:"‡∏™‡∏õ‡∏≤‡πÄ‡∏Å‡πá‡∏ï‡∏ï‡∏µ‡πâ‡∏Ñ‡∏≤‡πÇ‡∏ö‡∏ô‡∏≤‡∏£‡πà‡∏≤ (Carbonara)",price:150,category:"spaghetti",icon:"üçù"},
    {id:60,name:"‡∏™‡∏õ‡∏≤‡πÄ‡∏Å‡πá‡∏ï‡∏ï‡∏µ‡πâ‡πÇ‡∏ö‡πÇ‡∏•‡πÄ‡∏ô‡∏™ (Bolognese)",price:140,category:"spaghetti",icon:"üçù"},
    {id:61,name:"‡∏™‡∏õ‡∏≤‡πÄ‡∏Å‡πá‡∏ï‡∏ï‡∏µ‡πâ‡∏ú‡∏±‡∏î‡∏Ç‡∏µ‡πâ‡πÄ‡∏°‡∏≤‡∏ó‡∏∞‡πÄ‡∏• (Spicy Seafood)",price:160,category:"spaghetti",icon:"üçù"},
    {id:62,name:"‡∏™‡∏õ‡∏≤‡πÄ‡∏Å‡πá‡∏ï‡∏ï‡∏µ‡πâ‡πÄ‡∏ö‡∏Ñ‡∏≠‡∏ô‡∏û‡∏£‡∏¥‡∏Å‡πÅ‡∏´‡πâ‡∏á (Dried Chili Bacon)",price:130,category:"spaghetti",icon:"üçù"},
    {id:63,name:"‡∏™‡∏õ‡∏≤‡πÄ‡∏Å‡πá‡∏ï‡∏ï‡∏µ‡πâ‡∏ã‡∏≠‡∏™‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠‡πÄ‡∏ó‡∏® (Tomato Sauce)",price:120,category:"spaghetti",icon:"üçù"},
   
    // ‡∏™‡πÄ‡∏ï‡πá‡∏Å (Steak) - ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏≠‡∏¢‡∏π‡πà Main Dishes
    {id:49,name:"‡∏™‡πÄ‡∏ï‡πá‡∏Å‡∏û‡∏£‡∏¥‡∏Å‡πÑ‡∏ó‡∏¢‡∏î‡∏≥ (Black Pepper Steak)",price:180,category:"steak",icon:"ü•©"},
    {id:50,name:"‡∏™‡πÄ‡∏ï‡πá‡∏Å‡∏ã‡∏≠‡∏™‡πÄ‡∏´‡πá‡∏î‡∏´‡∏≠‡∏° (Mushroom Sauce Steak)",price:190,category:"steak",icon:"ü•©"},
    {id:51,name:"‡∏™‡πÄ‡∏ï‡πá‡∏Å‡∏´‡∏°‡∏π‡∏à‡∏¥‡πâ‡∏°‡πÅ‡∏à‡πà‡∏ß (Spicy Thai Dipping Pork Steak)",price:170,category:"steak",icon:"üçñ"},
    {id:52,name:"‡∏™‡πÄ‡∏ï‡πá‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≥‡∏à‡∏¥‡πâ‡∏°‡πÅ‡∏à‡πà‡∏ß (Thai Spicy Beef Steak)",price:220,category:"steak",icon:"ü•©"},
    {id:53,name:"‡∏™‡πÄ‡∏ï‡πá‡∏Å‡πÑ‡∏Å‡πà‡∏ã‡∏≠‡∏™‡∏Å‡∏£‡∏∞‡πÄ‡∏ó‡∏µ‡∏¢‡∏°‡∏û‡∏£‡∏¥‡∏Å‡πÑ‡∏ó‡∏¢ (Garlic Pepper Chicken Steak)",price:160,category:"steak",icon:"üçó"},
    {id:54,name:"‡∏™‡πÄ‡∏ï‡πá‡∏Å‡∏´‡∏°‡∏π‡∏ã‡∏≠‡∏™‡πÄ‡∏ó‡∏≠‡∏£‡∏¥‡∏¢‡∏≤‡∏Å‡∏¥ (Teriyaki Pork Steak)",price:175,category:"steak",icon:"üçñ"},
    {id:55,name:"‡∏™‡πÄ‡∏ï‡πá‡∏Å‡πÅ‡∏ã‡πà‡∏ö (Zapp Steak ‚Äì ‡πÅ‡∏ô‡∏ß‡∏≠‡∏µ‡∏™‡∏≤‡∏ô‡∏à‡∏±‡∏î‡∏à‡πâ‡∏≤‡∏ô)",price:185,category:"steak",icon:"üå∂Ô∏è"},
    {id:56,name:"‡∏™‡πÄ‡∏ï‡πá‡∏Å‡∏õ‡∏•‡∏≤‡πÅ‡∏ã‡∏•‡∏°‡∏≠‡∏ô‡∏¢‡πà‡∏≤‡∏á‡∏ã‡∏µ‡∏≠‡∏¥‡πä‡∏ß (Grilled Salmon with Soy Glaze)",price:250,category:"steak",icon:"üêü"},
    {id:57,name:"‡∏™‡πÄ‡∏ï‡πá‡∏Å‡∏´‡∏°‡∏π‡∏û‡∏£‡∏¥‡∏Å‡πÄ‡∏Å‡∏•‡∏∑‡∏≠ (Spicy Pork Steak Thai Style)",price:170,category:"steak",icon:"üå∂Ô∏è"},
    {id:58,name:"‡∏™‡πÄ‡∏ï‡πá‡∏Å‡πÑ‡∏Å‡πà‡∏•‡∏≤‡∏ö (Larb Chicken Steak)",price:165,category:"steak",icon:"üçó"},


    // ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏ó‡∏¢ (Thai Food) - ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏≠‡∏¢‡∏π‡πà Main Dishes
    {id:64,name:"‡∏ú‡∏±‡∏î‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡πÑ‡∏Å‡πà‡πÑ‡∏Ç‡πà‡∏î‡∏≤‡∏ß (Stir-fried Basil with Chicken & Fried Egg)",price:80,category:"thaiFood",icon:"üçö"},
    {id:65,name:"‡∏Ç‡πâ‡∏≤‡∏ß‡∏ú‡∏±‡∏î‡∏Å‡∏∏‡πâ‡∏á (Shrimp Fried Rice)",price:90,category:"thaiFood",icon:"üç§"},
    {id:66,name:"‡∏ï‡πâ‡∏°‡∏¢‡∏≥‡∏Å‡∏∏‡πâ‡∏á‡∏ô‡πâ‡∏≥‡∏Ç‡πâ‡∏ô (Creamy Tom Yum Goong)",price:120,category:"thaiFood",icon:"üç≤"},
    {id:67,name:"‡πÅ‡∏Å‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏´‡∏ß‡∏≤‡∏ô‡πÑ‡∏Å‡πà (Green Curry with Chicken)",price:100,category:"thaiFood",icon:"üçõ"},
    {id:68,name:"‡∏û‡∏∞‡πÅ‡∏ô‡∏á‡∏´‡∏°‡∏π (Panaeng Curry with Pork)",price:110,category:"thaiFood",icon:"üçú"},
    {id:69,name:"‡∏â‡∏π‡πà‡∏â‡∏µ‡πà‡∏õ‡∏•‡∏≤‡∏ó‡∏π (Chu Chee Mackerel)",price:130,category:"thaiFood",icon:"üêü"},
    {id:70,name:"‡πÅ‡∏Å‡∏á‡∏™‡πâ‡∏°‡∏Å‡∏∏‡πâ‡∏á‡∏ú‡∏±‡∏Å‡∏£‡∏ß‡∏° (Sour Curry with Shrimp & Mixed Veggies)",price:120,category:"thaiFood",icon:"üå∂Ô∏è"},
    {id:71,name:"‡∏™‡πâ‡∏°‡∏ï‡∏≥‡πÑ‡∏ó‡∏¢ (Papaya Salad Thai Style)",price:70,category:"thaiFood",icon:"ü•ó"},
    {id:72,name:"‡∏•‡∏≤‡∏ö‡∏´‡∏°‡∏π (Spicy Minced Pork Salad)",price:90,category:"thaiFood",icon:"üå∂Ô∏è"},
    {id:73,name:"‡∏ô‡πâ‡∏≥‡∏ï‡∏Å‡∏´‡∏°‡∏π (Spicy Grilled Pork Salad)",price:95,category:"thaiFood",icon:"üçñ"},
    {id:74,name:"‡πÑ‡∏Å‡πà‡∏¢‡πà‡∏≤‡∏á (Grilled Chicken)",price:120,category:"thaiFood",icon:"üçó"},
    {id:75,name:"‡∏Ç‡πâ‡∏≤‡∏ß‡∏ã‡∏≠‡∏¢‡πÑ‡∏Å‡πà (Khao Soi with Chicken)",price:100,category:"thaiFood",icon:"üçú"},
    {id:76,name:"‡πÅ‡∏Å‡∏á‡∏Æ‡∏±‡∏á‡πÄ‡∏• (Hang Le Curry)",price:110,category:"thaiFood",icon:"üç≤"},
    {id:77,name:"‡πÑ‡∏™‡πâ‡∏≠‡∏±‡πà‡∏ß (Northern Thai Sausage)",price:85,category:"thaiFood",icon:"üå≠"}
  ];
  const menuListEl = document.getElementById('menuList');
  const orderTableBody = document.querySelector('#orderTable tbody');
  const totalAmountEl = document.getElementById('totalAmount');
  const statusMsg = document.getElementById('statusMsg');
  const sendOrderBtn = document.getElementById('sendOrderBtn');
  const clearOrderBtn = document.getElementById('clearOrderBtn');
  const categoryBtns = document.querySelectorAll('.category-btn');
  const subCategoryDrink = document.getElementById('subCategoryDrink');
  const subCategoryDessert = document.getElementById('subCategoryDessert');
  const subCategoryMainDish = document.getElementById('subCategoryMainDish');
  const allSubCategoryDivs = document.querySelectorAll('#subCategoryDrink, #subCategoryDessert, #subCategoryMainDish');
  const currentTimeEl = document.getElementById('current-time');
  const eatHereRadio = document.getElementById('eatHere');
  const takeHomeRadio = document.getElementById('takeHome');
  const tableSelectContainer = document.getElementById('tableSelectContainer');
  const tableNumberSelect = document.getElementById('tableNumber');


  let orders = JSON.parse(localStorage.getItem('cafeOrders')) || []; // ‡πÇ‡∏´‡∏•‡∏î orders ‡∏à‡∏≤‡∏Å localStorage


  function updateCurrentTime(){
    const now=new Date();
    // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô format ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ï‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
    currentTimeEl.textContent=now.toLocaleString(currentLang === 'th' ? 'th-TH' : 'en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit',second:'2-digit'});
  }
  setInterval(updateCurrentTime,1000); updateCurrentTime();




  document.getElementById('themeToggle').addEventListener('click',()=>document.body.classList.toggle('dark-mode'));
  (function(){const h=new Date().getHours();if(h>=18||h<6)document.body.classList.add('dark-mode');})();




  function renderMenu(){
    let filtered = [];
    if (currentActiveSubCategory === 'all') {
        // If "All" or a main category without specific sub-category is selected
        if (currentActiveCategory === 'all') {
            filtered = menuItems;
        } else if (currentActiveCategory === 'drink') {
            filtered = menuItems.filter(item => ['coffee', 'tea', 'juice', 'otherDrink', 'alcohol'].includes(item.category)); // ‡πÄ‡∏û‡∏¥‡πà‡∏° 'alcohol'
        } else if (currentActiveCategory === 'food') {
            filtered = menuItems.filter(item => item.category === 'singleDish');
        } else if (currentActiveCategory === 'dessert') {
            filtered = menuItems.filter(item => ['cakesBakeries', 'otherDessert'].includes(item.category));
        } else if (currentActiveCategory === 'mainDish') {
            filtered = menuItems.filter(item => ['pizza', 'spaghetti', 'steak', 'thaiFood'].includes(item.category));
        }
    } else {
        // If a specific sub-category is selected
        filtered = menuItems.filter(item => item.category === currentActiveSubCategory);
    }
   
    menuListEl.innerHTML = filtered.length ? filtered.map(item=>`
      <div class="menu-item" onclick="addOrder(${item.id})">
        <div class="d-flex align-items-center">
          <div class="fs-3 me-2">${item.icon}</div>
          <div><strong>${item.name}</strong><br><small class="text-muted">${item.price} ${getTranslation('‡∏ö‡∏≤‡∏ó')}</small></div>
        </div>
      </div>`).join('') : `<div class="text-muted text-center py-3">${getTranslation('noMenuInCategory')}</div>`;
  }




  window.addOrder = function(id){
    const item = menuItems.find(i=>i.id===id), ex=orders.find(o=>o.id===id);
    if(ex) {
       ex.qty++;
    } else {
       // ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà category ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô orders ‡∏î‡πâ‡∏ß‡∏¢
       const fullItem = menuItems.find(i => i.id === id);
       orders.push({...fullItem, qty:1});
    }
    localStorage.setItem('cafeOrders', JSON.stringify(orders)); // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å orders ‡∏•‡∏á localStorage
    renderOrders(); // <--- ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å renderOrders ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
    showStatus(getTranslation('addToOrderSuccess', {itemName: item.name}),'success');
  }
window.addOrder = function(id){
  const item = menuItems.find(i=>i.id===id);
  
  // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Å‡∏° Pizza Maker WOI ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå
  if(id === 85) {
    window.open('https://th.crazygames.com/%E0%B9%80%E0%B8%81%E0%B8%A1/pizza-maker-woi', '_blank');
    return;
  }

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô renderOrders ‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏à‡∏≥‡∏ô‡∏ß‡∏ô
  function renderOrders() {
       orderTableBody.innerHTML = '';
       let totalAmount = 0;
       orders.forEach(order => {
           const itemTotal = order.price * order.qty;
           totalAmount += itemTotal;
           const row = orderTableBody.insertRow();
           row.innerHTML = `
               <td>${order.name}</td>
               <td>${order.price}</td>
               <td>
                   <div class="input-group input-group-sm qty-input-group">
                       <button class="btn btn-outline-secondary" type="button" onclick="changeQty(${order.id}, -1)">
                           <i class="bi bi-dash-lg"></i>
                       </button>
                       <input type="text" class="form-control text-center" value="${order.qty}" readonly>
                       <button class="btn btn-outline-secondary" type="button" onclick="changeQty(${order.id}, 1)">
                           <i class="bi bi-plus-lg"></i>
                       </button>
                   </div>
               </td>
               <td>${itemTotal}</td>
               <td><button class="btn btn-danger btn-sm" onclick="removeOrder(${order.id})"><i class="bi bi-x-lg"></i></button></td>
           `;
       });
       totalAmountEl.textContent = totalAmount; // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
  }
const ex=orders.find(o=>o.id===id);
  if(ex) {
     ex.qty++;
  } else {
     const fullItem = menuItems.find(i => i.id === id);
     orders.push({...fullItem, qty:1});
  }
  localStorage.setItem('cafeOrders', JSON.stringify(orders));
  renderOrders();
  showStatus(getTranslation('addToOrderSuccess', {itemName: item.name}),'success');
}



  function removeOrder(id){
    const idx=orders.findIndex(o=>o.id===id);
    if(idx>-1){
      const n=orders[idx].name;
      orders.splice(idx,1);
      localStorage.setItem('cafeOrders', JSON.stringify(orders)); // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å orders ‡∏•‡∏á localStorage
      renderOrders();
      showStatus(getTranslation('removeFromOrderSuccess', {itemName: n}),'success');
    }
  }




  function changeQty(id,delta){
    const o=orders.find(x=>x.id===id);
    if(!o)return;
    o.qty+=delta;
    if(o.qty<1)o.qty=1;
    localStorage.setItem('cafeOrders', JSON.stringify(orders)); // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å orders ‡∏•‡∏á localStorage
    renderOrders();
  }




  function showStatus(msg,type){ statusMsg.textContent=msg; statusMsg.className=`alert alert-${type}`; statusMsg.style.display='block'; setTimeout(()=>statusMsg.style.display='none',3000); }




  function sendOrder(){
    if(!orders.length){
        showStatus(getTranslation('noItemsSelected'),"danger");
        return;
    }
   
    const orderType = document.querySelector('input[name="orderType"]:checked').value;
    const tableNumber = tableNumberSelect.value; // ‡∏Ñ‡πà‡∏≤ value ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢

    showStatus(getTranslation('sendingOrder'),"info");

    // === START: ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ö‡∏ô GitHub Pages ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ Google Apps Script ===
    // ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏°‡∏µ Backend (Google Apps Script) ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÉ‡∏´‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
    // ‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô
    setTimeout(() => { // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö asynchronous ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á
        const ordersForReceipt = JSON.parse(JSON.stringify(orders)); // ‡∏ó‡∏≥‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• orders ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à
        
        orders = []; // ‡∏•‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏´‡∏•‡∏±‡∏Å
        localStorage.removeItem('cafeOrders'); // ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• orders ‡∏à‡∏≤‡∏Å localStorage
        renderOrders(); // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI ‡πÉ‡∏´‡πâ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤

        showStatus(getTranslation('orderSuccess'),"success");
        // ‡∏™‡πà‡∏á ordersForReceipt ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà generateReceipt ‡πÅ‡∏ó‡∏ô orders ‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏•‡πâ‡∏≤‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß
        generateReceipt(orderType, tableNumber, ordersForReceipt); 
    }, 1000); // ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
    // === END: ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ===
  }




  function clearOrder(){
    if(orders.length && confirm(getTranslation('clearOrderConfirm'))){
        orders=[];
        localStorage.removeItem('cafeOrders'); // ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• orders ‡∏à‡∏≤‡∏Å localStorage
        renderOrders();
        showStatus(getTranslation('orderCleared'),"success");
    }
  }




  // ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ generateReceipt ‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏ö ordersToAdd (‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏Ç‡∏≠‡∏á orders ‡∏Å‡πà‡∏≠‡∏ô‡∏ñ‡∏π‡∏Å‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå)
  function generateReceipt(orderType, tableNumber, ordersToGenerateReceipt){
    if(!ordersToGenerateReceipt || ordersToGenerateReceipt.length === 0) return; // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà


    // ‡πÅ‡∏õ‡∏•‡∏á orderType ‡πÅ‡∏•‡∏∞ tableNumber ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏ô‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏ï‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
    const displayOrderType = (orderType === '‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô') ? getTranslation('eatHere') : getTranslation('takeHome');
    const displayTableNumber = (tableNumber === '‡πÇ‡∏ï‡πä‡∏∞ 1') ? getTranslation('table1') :
                               (tableNumber === '‡πÇ‡∏ï‡πä‡∏∞ 2') ? getTranslation('table2') :
                               (tableNumber === '‡πÇ‡∏ï‡πä‡∏∞ 3') ? getTranslation('table3') :
                               (tableNumber === '‡πÇ‡∏ï‡πä‡∏∞ 4') ? getTranslation('table4') : tableNumber;


    let receiptDetailsHtml = `<p><strong>${getTranslation('receiptType')}:</strong> ${displayOrderType} ${orderType === '‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô' ? 'üçΩÔ∏è' : 'üõçÔ∏è'}</p>`;
    if (orderType === '‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô') {
      receiptDetailsHtml += `<p><strong>${getTranslation('receiptTable')}:</strong> ${displayTableNumber} ü™ë</p>`;
    }
    document.getElementById('receiptDetails').innerHTML = receiptDetailsHtml;


    let html=`<table class="table"><thead><tr><th>${getTranslation('menuNameCol')}</th><th>${getTranslation('qtyCol')}</th><th>${getTranslation('priceCol')}</th></tr></thead><tbody>`;
    let total=0;
    // ‡πÉ‡∏ä‡πâ ordersToGenerateReceipt ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤
    ordersToGenerateReceipt.forEach(o=>{ const s=o.price*o.qty; total+=s; html+=`<tr><td>${o.name}</td><td>${o.qty}</td><td>${s} ${getTranslation('‡∏ö‡∏≤‡∏ó')}</td></tr>`; });
    html+=`</tbody><tfoot><tr><th colspan="2">${getTranslation('grandTotal')}</th><th>${total} ${getTranslation('‡∏ö‡∏≤‡∏ó')}</th></tr></tfoot></table>`;
    document.getElementById("receiptTable").innerHTML=html;
    document.getElementById("qrImage").src=`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${getTranslation('cafeNameReceipt')}: ${total} ${getTranslation('‡∏ö‡∏≤‡∏ó')}`;
    new bootstrap.Modal(document.getElementById('receiptModal')).show();
  }




  function printReceipt(){ const w=window.open(); w.document.write(document.getElementById('receiptContent').innerHTML); w.print(); w.close(); }




  // EVENTS
  sendOrderBtn.addEventListener('click',sendOrder);
  clearOrderBtn.addEventListener('click',clearOrder);


  // Main Category Button Click Handler
  categoryBtns.forEach(btn => btn.addEventListener('click', () => {
    categoryBtns.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
   
    // Hide all sub-category divs
    allSubCategoryDivs.forEach(div => div.classList.add('d-none'));


    currentActiveCategory = btn.dataset.category;
    currentActiveSubCategory = 'all'; // Reset sub-category when a new main category is selected


    // Show relevant sub-category div and activate its first sub-button
    if (currentActiveCategory === 'drink') {
      subCategoryDrink.classList.remove('d-none');
      const firstSubBtn = subCategoryDrink.querySelector('.sub-category-btn');
      if (firstSubBtn) {
        firstSubBtn.click(); // Simulate click to activate and render its menu
      } else {
        renderMenu(); // Render main category if no sub-buttons
      }
    } else if (currentActiveCategory === 'food') {
      // 'food' doesn't have explicit sub-categories in HTML structure,
      // so directly set currentActiveSubCategory to 'singleDish' (the category name in menuItems)
      currentActiveSubCategory = 'singleDish';
      renderMenu();
    } else if (currentActiveCategory === 'dessert') {
      subCategoryDessert.classList.remove('d-none');
      const firstSubBtn = subCategoryDessert.querySelector('.sub-category-btn');
      if (firstSubBtn) {
        firstSubBtn.click();
      } else {
        renderMenu(); // Render main category if no sub-buttons
      }
    } else if (currentActiveCategory === 'mainDish') {
      subCategoryMainDish.classList.remove('d-none');
      const firstSubBtn = subCategoryMainDish.querySelector('.sub-category-btn');
      if (firstSubBtn) {
        firstSubBtn.click();
      } else {
        renderMenu(); // Render main category if no sub-buttons
      }
    } else if (currentActiveCategory === 'all') {
       // If "All" is clicked, clear active from sub-buttons and render all menu items
       document.querySelectorAll('.sub-category-btn').forEach(b => b.classList.remove('active'));
       renderMenu();
    }
  }));


  // Sub-Category Button Click Handler
  allSubCategoryDivs.forEach(div => {
      div.querySelectorAll('.sub-category-btn').forEach(subBtn => {
          subBtn.addEventListener('click', () => {
              // Remove active from all sub-category buttons in all divs
              document.querySelectorAll('.sub-category-btn').forEach(b => b.classList.remove('active'));
              subBtn.classList.add('active');
              currentActiveSubCategory = subBtn.dataset.category;
              renderMenu();
          });
      });
  });




  // Toggle table selection based on order type
  eatHereRadio.addEventListener('change', () => {
    tableSelectContainer.style.display = eatHereRadio.checked ? 'block' : 'none';
  });
  takeHomeRadio.addEventListener('change', () => {
    tableSelectContainer.style.display = takeHomeRadio.checked ? 'none' : 'block';
  });


  // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏†‡∏≤‡∏©‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
  updateUIForLanguage();
  // ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î" ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
  document.querySelector('.category-btn[data-category="all"]').click();
  renderOrders(); // ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
</script>
</body>
</html>

